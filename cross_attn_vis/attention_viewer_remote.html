
<!DOCTYPE html>
<html>
<head>
    <title>Image Generation Viewer</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .controls {
            margin-bottom: 20px;
            position: sticky;
            top: 0;
            background: white;
            padding: 15px;
            border-bottom: 1px solid #ccc;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            z-index: 100;
        }
        select {
            padding: 8px;
            font-size: 16px;
            margin-right: 10px;
            border-radius: 4px;
        }
        .folder-container {
            margin-bottom: 30px;
            border: 1px solid #ccc;
            border-radius: 8px;
            padding: 20px;
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .folder-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
            color: #333;
        }
        .image-row {
            display: grid;
            grid-template-columns: 250px 250px minmax(800px, 1fr);
            gap: 20px;
            align-items: center;
        }
        .image-container {
            text-align: center;
        }
        .image-container.small-image img {
            max-width: 250px;
            height: auto;
        }
        .image-container.large-image img {
            width: 100%;
            height: auto;
        }
        .image-container img {
            border: 1px solid #eee;
            border-radius: 5px;
            background: white;
        }
        .image-title {
            margin-top: 10px;
            font-size: 14px;
            color: #666;
        }
    </style>
</head>
<body>
    <h1>Image Generation Viewer</h1>
    <div class="controls">
        <label for="timestep">Select Timestep:</label>
        <select id="timestep" onchange="updateImages()">
            <option value="https://github.com/miatang13/results-static-page/raw/main/000">https://github.com/miatang13/results-static-page/raw/main/000</option> <option value="https://github.com/miatang13/results-static-page/raw/main/001">https://github.com/miatang13/results-static-page/raw/main/001</option> <option value="https://github.com/miatang13/results-static-page/raw/main/002">https://github.com/miatang13/results-static-page/raw/main/002</option> <option value="https://github.com/miatang13/results-static-page/raw/main/003">https://github.com/miatang13/results-static-page/raw/main/003</option> <option value="https://github.com/miatang13/results-static-page/raw/main/004">https://github.com/miatang13/results-static-page/raw/main/004</option> <option value="https://github.com/miatang13/results-static-page/raw/main/005">https://github.com/miatang13/results-static-page/raw/main/005</option> <option value="https://github.com/miatang13/results-static-page/raw/main/006">https://github.com/miatang13/results-static-page/raw/main/006</option> <option value="https://github.com/miatang13/results-static-page/raw/main/007">https://github.com/miatang13/results-static-page/raw/main/007</option> <option value="https://github.com/miatang13/results-static-page/raw/main/008">https://github.com/miatang13/results-static-page/raw/main/008</option> <option value="https://github.com/miatang13/results-static-page/raw/main/009">https://github.com/miatang13/results-static-page/raw/main/009</option> <option value="https://github.com/miatang13/results-static-page/raw/main/010">https://github.com/miatang13/results-static-page/raw/main/010</option> <option value="https://github.com/miatang13/results-static-page/raw/main/011">https://github.com/miatang13/results-static-page/raw/main/011</option> <option value="https://github.com/miatang13/results-static-page/raw/main/012">https://github.com/miatang13/results-static-page/raw/main/012</option> <option value="https://github.com/miatang13/results-static-page/raw/main/013">https://github.com/miatang13/results-static-page/raw/main/013</option> <option value="https://github.com/miatang13/results-static-page/raw/main/014">https://github.com/miatang13/results-static-page/raw/main/014</option> <option value="https://github.com/miatang13/results-static-page/raw/main/015">https://github.com/miatang13/results-static-page/raw/main/015</option> <option value="https://github.com/miatang13/results-static-page/raw/main/016">https://github.com/miatang13/results-static-page/raw/main/016</option> <option value="https://github.com/miatang13/results-static-page/raw/main/017">https://github.com/miatang13/results-static-page/raw/main/017</option> <option value="https://github.com/miatang13/results-static-page/raw/main/018">https://github.com/miatang13/results-static-page/raw/main/018</option> <option value="https://github.com/miatang13/results-static-page/raw/main/019">https://github.com/miatang13/results-static-page/raw/main/019</option> <option value="https://github.com/miatang13/results-static-page/raw/main/020">https://github.com/miatang13/results-static-page/raw/main/020</option> <option value="https://github.com/miatang13/results-static-page/raw/main/021">https://github.com/miatang13/results-static-page/raw/main/021</option> <option value="https://github.com/miatang13/results-static-page/raw/main/022">https://github.com/miatang13/results-static-page/raw/main/022</option> <option value="https://github.com/miatang13/results-static-page/raw/main/023">https://github.com/miatang13/results-static-page/raw/main/023</option> <option value="https://github.com/miatang13/results-static-page/raw/main/024">https://github.com/miatang13/results-static-page/raw/main/024</option> <option value="https://github.com/miatang13/results-static-page/raw/main/025">https://github.com/miatang13/results-static-page/raw/main/025</option> <option value="https://github.com/miatang13/results-static-page/raw/main/026">https://github.com/miatang13/results-static-page/raw/main/026</option> <option value="https://github.com/miatang13/results-static-page/raw/main/027">https://github.com/miatang13/results-static-page/raw/main/027</option> <option value="https://github.com/miatang13/results-static-page/raw/main/028">https://github.com/miatang13/results-static-page/raw/main/028</option> <option value="https://github.com/miatang13/results-static-page/raw/main/029">https://github.com/miatang13/results-static-page/raw/main/029</option> <option value="https://github.com/miatang13/results-static-page/raw/main/030">https://github.com/miatang13/results-static-page/raw/main/030</option> <option value="https://github.com/miatang13/results-static-page/raw/main/031">https://github.com/miatang13/results-static-page/raw/main/031</option> <option value="https://github.com/miatang13/results-static-page/raw/main/032">https://github.com/miatang13/results-static-page/raw/main/032</option> <option value="https://github.com/miatang13/results-static-page/raw/main/033">https://github.com/miatang13/results-static-page/raw/main/033</option> <option value="https://github.com/miatang13/results-static-page/raw/main/034">https://github.com/miatang13/results-static-page/raw/main/034</option> <option value="https://github.com/miatang13/results-static-page/raw/main/035">https://github.com/miatang13/results-static-page/raw/main/035</option> <option value="https://github.com/miatang13/results-static-page/raw/main/036">https://github.com/miatang13/results-static-page/raw/main/036</option> <option value="https://github.com/miatang13/results-static-page/raw/main/037">https://github.com/miatang13/results-static-page/raw/main/037</option> <option value="https://github.com/miatang13/results-static-page/raw/main/038">https://github.com/miatang13/results-static-page/raw/main/038</option> <option value="https://github.com/miatang13/results-static-page/raw/main/039">https://github.com/miatang13/results-static-page/raw/main/039</option> <option value="https://github.com/miatang13/results-static-page/raw/main/040">https://github.com/miatang13/results-static-page/raw/main/040</option> <option value="https://github.com/miatang13/results-static-page/raw/main/041">https://github.com/miatang13/results-static-page/raw/main/041</option> <option value="https://github.com/miatang13/results-static-page/raw/main/042">https://github.com/miatang13/results-static-page/raw/main/042</option> <option value="https://github.com/miatang13/results-static-page/raw/main/043">https://github.com/miatang13/results-static-page/raw/main/043</option> <option value="https://github.com/miatang13/results-static-page/raw/main/044">https://github.com/miatang13/results-static-page/raw/main/044</option> <option value="https://github.com/miatang13/results-static-page/raw/main/045">https://github.com/miatang13/results-static-page/raw/main/045</option> <option value="https://github.com/miatang13/results-static-page/raw/main/046">https://github.com/miatang13/results-static-page/raw/main/046</option> <option value="https://github.com/miatang13/results-static-page/raw/main/047">https://github.com/miatang13/results-static-page/raw/main/047</option> <option value="https://github.com/miatang13/results-static-page/raw/main/048">https://github.com/miatang13/results-static-page/raw/main/048</option> <option value="https://github.com/miatang13/results-static-page/raw/main/049">https://github.com/miatang13/results-static-page/raw/main/049</option> <option value="https://github.com/miatang13/results-static-page/raw/main/050">https://github.com/miatang13/results-static-page/raw/main/050</option> <option value="https://github.com/miatang13/results-static-page/raw/main/051">https://github.com/miatang13/results-static-page/raw/main/051</option> <option value="https://github.com/miatang13/results-static-page/raw/main/052">https://github.com/miatang13/results-static-page/raw/main/052</option> <option value="https://github.com/miatang13/results-static-page/raw/main/053">https://github.com/miatang13/results-static-page/raw/main/053</option> <option value="https://github.com/miatang13/results-static-page/raw/main/054">https://github.com/miatang13/results-static-page/raw/main/054</option> <option value="https://github.com/miatang13/results-static-page/raw/main/055">https://github.com/miatang13/results-static-page/raw/main/055</option> <option value="https://github.com/miatang13/results-static-page/raw/main/056">https://github.com/miatang13/results-static-page/raw/main/056</option> <option value="https://github.com/miatang13/results-static-page/raw/main/057">https://github.com/miatang13/results-static-page/raw/main/057</option> <option value="https://github.com/miatang13/results-static-page/raw/main/058">https://github.com/miatang13/results-static-page/raw/main/058</option> <option value="https://github.com/miatang13/results-static-page/raw/main/059">https://github.com/miatang13/results-static-page/raw/main/059</option> <option value="https://github.com/miatang13/results-static-page/raw/main/060">https://github.com/miatang13/results-static-page/raw/main/060</option> <option value="https://github.com/miatang13/results-static-page/raw/main/061">https://github.com/miatang13/results-static-page/raw/main/061</option> <option value="https://github.com/miatang13/results-static-page/raw/main/062">https://github.com/miatang13/results-static-page/raw/main/062</option> <option value="https://github.com/miatang13/results-static-page/raw/main/063">https://github.com/miatang13/results-static-page/raw/main/063</option> <option value="https://github.com/miatang13/results-static-page/raw/main/064">https://github.com/miatang13/results-static-page/raw/main/064</option> <option value="https://github.com/miatang13/results-static-page/raw/main/065">https://github.com/miatang13/results-static-page/raw/main/065</option> <option value="https://github.com/miatang13/results-static-page/raw/main/066">https://github.com/miatang13/results-static-page/raw/main/066</option> <option value="https://github.com/miatang13/results-static-page/raw/main/067">https://github.com/miatang13/results-static-page/raw/main/067</option> <option value="https://github.com/miatang13/results-static-page/raw/main/068">https://github.com/miatang13/results-static-page/raw/main/068</option> <option value="https://github.com/miatang13/results-static-page/raw/main/069">https://github.com/miatang13/results-static-page/raw/main/069</option>
        </select>
    </div>
    <div id="foldersContainer">
    </div>

    <script>
        const folders = ['L0_sample1016', 'L0_sample1013', 'L0_sample1000', 'L0_sample1002', 'L0_sample1009', 'L0_sample1040', 'L0_sample104', 'L0_sample1001', 'L0_sample101', 'L0_sample1030', 'L0_sample1024', 'L0_sample1042', 'L0_sample1038', 'L0_sample1014', 'L0_sample1029', 'L0_sample1041', 'L0_sample1028', 'L0_sample1027', 'L0_sample1019', 'L0_sample1010', 'L0_sample1005', 'L0_sample1026', 'L0_sample1', 'L0_sample1033', 'L0_sample1023', 'L0_sample1008', 'L0_sample1004', 'L0_sample1021', 'L0_sample1025', 'L0_sample1018', 'L0_sample1012', 'L0_sample1015', 'L0_sample1039', 'L0_sample1020', 'L0_sample1032', 'L0_sample10', 'L0_sample1007', 'L0_sample100', 'L0_sample1003', 'L0_sample1036', 'L0_sample1022', 'L0_sample103', 'L0_sample1031', 'L0_sample1034', 'L0_sample102', 'L0_sample1011', 'L0_sample1017', 'L0_sample1035', 'L0_sample1006', 'L0_sample1037'];
        const rootPath = '/disk/miatang/stroke-label/extern/results-static-page/cross_attn_vis';

        function updateImages() {
            const timestep = document.getElementById('timestep').value;
            const container = document.getElementById('foldersContainer');
            container.innerHTML = '';

            folders.forEach(folder => {
                const folderContainer = document.createElement('div');
                folderContainer.className = 'folder-container';
                
                const folderTitle = document.createElement('div');
                folderTitle.className = 'folder-title';
                folderTitle.textContent = folder;
                folderContainer.appendChild(folderTitle);
                
                const imageRow = document.createElement('div');
                imageRow.className = 'image-row';
                
                // Create containers for all three image types
                const imageTypes = [
                    {name: 'sketch_input.png', title: 'Sketch Input', class: 'small-image'},
                    {name: 'generated_image.png', title: 'Generated Image', class: 'small-image'},
                    {name: `attention_step${timestep.padStart(3, '0')}.png`, title: 'Attention Map', class: 'large-image'}
                ];
                
                imageTypes.forEach(imageType => {
                    const imgContainer = document.createElement('div');
                    imgContainer.className = `image-container ${imageType.class}`;
                    
                    const img = document.createElement('img');
                    img.src = `${folder}/${imageType.name}`;
                    img.alt = `${imageType.title} for ${folder}`;
                    img.onerror = () => {
                        img.src = 'data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><text x="50%" y="50%" font-size="12" text-anchor="middle" alignment-baseline="middle">Not Found</text></svg>';
                        img.style.padding = '20px';
                        img.style.background = '#f8f8f8';
                    };
                    
                    const title = document.createElement('div');
                    title.className = 'image-title';
                    title.textContent = imageType.title;
                    
                    imgContainer.appendChild(img);
                    imgContainer.appendChild(title);
                    imageRow.appendChild(imgContainer);
                });
                
                folderContainer.appendChild(imageRow);
                container.appendChild(folderContainer);
            });
        }

        // Initialize with first timestep
        window.onload = updateImages;
    </script>
</body>
</html>
    